<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../assets/img/illustration/v-removebg-preview.png">
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700," rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../assets/css/buttons.css">
    <link rel="stylesheet" href="../assets/css/profile.css">
    <link rel="stylesheet" href="../assets/css/footer.css">
    <link rel="stylesheet" href="../assets/css/header.css">
    <title>V A N H A</title>
</head>

<body class="body">
    <!-- ----------------------------edit-profile------------------------ -->
    <div id="overlay">
        <div class="closebtn" onclick="off()" title="Close Overlay"><i class="fa-solid fa-xmark"></i></div>
        <form class="form">
            <p class="heading-in">Edit Profile</p>
            <p>
                <span class="detail">Email :</span><span class="prod_val" id="email"></span>
            </p>
            <div class="field">
                <input type="text" class="input-field" id="name" placeholder="Name" autocomplete="off"
                    pattern="^(?!\s)[a-zA-Z\s]+$" required="true">
            </div>
            <div class="field">
                <input type="tel" class="input-field" id="phone" placeholder="+91" autocomplete="off"
                    pattern="^(?!\s)[0-9]+" required="true">
            </div>
            <div class="field">
                <input type="text" class="input-field" id="location" placeholder="Location"
                    pattern="^(?!\s)[a-zA-Z\s]+$" required="true">
            </div>
            <div class="btn">
                <button class="button2" onclick="update(event)">Save</button>
            </div>
        </form>
    </div>
    <!-- -------------------------------header------------------------ -->
    <header class="header" id="header">
    </header>
    <!-- -------------------------profile----------------------- -->
    <div class="card">
        <img class="user-img" id="user-img" alt="">
        <div class="details">
            <h1 class="title" id="user_name"></h1>
            <span class="caption"><i class="fa fa-envelope"></i>
                <h4 id="user_email"></h4>
            </span>
            <span class="caption"><i class="fa fa-phone"></i>
                <h4 id="user_phone"></h4>
            </span>
            <span class="caption"><i class="fa fa-location"></i>
                <h4 id="user_location"></h4>
            </span>
            <div class="btn">
                <button class="button1 edit" onclick="on()">Edit</button>
                <button class="button2" onclick="logout()">Log out</button>
                <button class="button3" onclick="del(event)">Delete</button>
            </div>
        </div>
    </div>
    <!-- -----------------------product list -seller---------------- -->
    <div class="list">
        <div class="topic">
            <h1>My Product list</h1>
            <button class="button2 add" onclick="addprod()">Add new product</button>
        </div>
        <div class="box">
        </div>
    </div>
    <!-- -----------------------------footer--------------------------- -->
    <footer class="footer" id="footer">
    </footer>
    <div class="copy">Copyright Â© 2021 - 2022 VANHA - Website Designed By KISHORE</div>
</body>
<!-- -----------------------------------script--------------------------------- -->
<script src="../assets/JS/footer.js"></script>
<script src="../assets/JS/header.js"></script>
<script src="../assets/JS/index.js"></script>
<script src="../assets/JS/product.js"></script>
<script src="../assets/JS/profile.js"></script>
<script>
    allheader()
    footer()
    // ------------------------------//
    let email = JSON.parse(localStorage.getItem("unique_id"));
    let profileImage = document.getElementById("user-img");
    let stored_data = JSON.parse(localStorage.getItem("user_data")) || [];

    const get_object = (email, stored_data) => stored_data.find(val => val.email === email);
    let data = get_object(email, stored_data);

    profileImage.setAttribute("src", data.image);
    profileImage.setAttribute("alt", data.name + " Image");

    document.getElementById("user_name").innerText = data.name;
    document.getElementById("user_email").innerText = data.email;
    document.getElementById("user_phone").innerText = data.phone;
    document.getElementById("user_location").innerText = data.location;

    document.getElementById("name").value = data.name;
    document.getElementById("email").innerHTML = data.email;
    document.getElementById("phone").value = data.phone;
    document.getElementById("location").value = data.location;
    // --------------------------------//
    list(product);
    // -------------------------------//

</script>

</html>